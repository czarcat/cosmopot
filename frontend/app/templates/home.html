{% extends "base.html" %}

{% block title %}DreamFoundry • Creative Automation{% endblock %}

{% block content %}
<section class="card" aria-labelledby="hero-title">
  <h1 id="hero-title">Create standout visuals with production-ready automation</h1>
  <p>
    DreamFoundry connects your prompts, brand assets, and teams with resilient infrastructure. Launch
    generations, monitor progress in real time, and scale with transparent billing.
  </p>
  <div style="display:flex; gap:1rem; flex-wrap:wrap; margin-top:1.4rem;">
    <a class="btn-primary" href="{{ url_for('generate') }}">Start generating</a>
    <a class="btn-primary" style="background:rgba(52,211,153,0.18); border-color:rgba(45,212,191,0.45); color:#ccfbf1;"
       href="{{ url_for('pricing') }}">
      Explore pricing
    </a>
  </div>
</section>

<section class="card" style="margin-top:2rem;" aria-labelledby="status-title">
  <div style="display:flex; flex-direction:column; gap:1rem;">
    <div style="display:flex; align-items:center; gap:0.75rem;">
      <h2 id="status-title" style="margin:0;">Platform status</h2>
      <span class="plan-badge">Live</span>
    </div>
    {% if error %}
      <p role="alert">Unable to reach the backend health endpoint: <code>{{ error }}</code></p>
    {% elif not health %}
      <p aria-live="polite">Waiting for health data…</p>
    {% else %}
      <div style="display:grid; gap:0.85rem; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));">
        <article class="card" style="padding:1.15rem; gap:0.5rem;">
          <h3 style="margin:0; font-size:0.95rem;">Backend API</h3>
          <span class="status-pill" data-status="{{ health.status }}">{{ health.status | capitalize }}</span>
        </article>
        {% for name, dependency in health.dependencies.items() %}
          <article class="card" style="padding:1.15rem; gap:0.5rem;">
            <h3 style="margin:0; font-size:0.95rem;">{{ name|capitalize }}</h3>
            <span class="status-pill" data-status="{{ dependency.status }}">{{ dependency.status | capitalize }}</span>
            {% if dependency.detail %}
              <p style="margin:0; font-size:0.85rem; color:rgba(226,232,240,0.8);">{{ dependency.detail }}</p>
            {% endif %}
          </article>
        {% endfor %}
      </div>
    {% endif %}
  </div>
</section>

<section style="margin-top:2.5rem; display:grid; gap:1.75rem; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));" aria-labelledby="feature-title">
  <div class="card" style="gap:0.85rem;">
    <h2 id="feature-title" style="margin:0;">Opinionated workflows</h2>
    <p>Upload seed imagery, adjust parameters, and publish to production queues with audit trails.</p>
  </div>
  <div class="card" style="gap:0.85rem;">
    <h3 style="margin:0;">Connected profile</h3>
    <p>Self-service balance adjustments, subscription upgrades, and automated receipts.</p>
  </div>
  <div class="card" style="gap:0.85rem;">
    <h3 style="margin:0;">Live observability</h3>
    <p>Track task lifecycle events via WebSocket streams with instant retries and failure insights.</p>
  </div>
</section>

<section class="card" style="margin-top:2.5rem;" aria-labelledby="catalog-title">
  <div style="display:flex; justify-content:space-between; align-items:center; gap:1rem; flex-wrap:wrap;">
    <div>
      <h2 id="catalog-title" style="margin:0;">Prompt inspiration</h2>
      <p style="margin:0; color:rgba(226,232,240,0.8);">Kickstart a new concept from the curated catalog.</p>
    </div>
    <a class="btn-primary" href="{{ url_for('generate') }}#prompt-catalog">Browse catalog</a>
  </div>
  <div class="card-grid" style="margin-top:1.5rem;">
    {% for prompt in prompt_catalog %}
      <article class="card" style="padding:1.25rem; gap:0.6rem;">
        <h3 style="margin:0;">{{ prompt.title }}</h3>
        <p style="margin:0; font-size:0.9rem; color:rgba(226,232,240,0.82);">{{ prompt.prompt }}</p>
        <span class="plan-badge">{{ prompt.category }}</span>
      </article>
    {% endfor %}
  </div>
</section>
{% endblock %}
